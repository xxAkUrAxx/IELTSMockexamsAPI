<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>IELTS Reading Section 1</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #ffffff;
    }
    .navbar {
      background-color: #1e90ff;
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: white;
    }
    .navbar img {
      height: 40px;
    }
    .header-right {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
    }
    .student-info {
      font-size: 14px;
      text-align: right;
    }
    .timer {
      font-size: 18px;
      font-weight: bold;
    }
    .timer.danger {
      color: red;
    }
    .section-navigation {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
      margin-bottom: 20px;
    }
    .section-navigation a {
      padding: 10px 20px;
      background-color: #1e90ff;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
      transition: 0.2s ease;
    }
    .highlighted {
        background-color: yellow;
    }
    .section-navigation a:hover {
      background-color: #1c7ed6;
    }
    .section-navigation a.active {
      background-color: #0b6ccf;
      border: 2px solid white;
    }
    .main-container {
      display: flex;
      height: calc(100vh - 220px);
      margin: 0 30px;
      gap: 30px;
    }
    .left-panel, .right-panel {
      flex: 1;
      background-color: #f5f5f5;
      padding: 30px;
      border-radius: 10px;
      overflow-y: auto;
      height: 100%;
    }
    .question-block {
      margin-bottom: 40px;
    }
  </style>
</head>
<div id="timeoutModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1000; justify-content:center; align-items:center;">
  <div style="background:white; padding:40px; border-radius:12px; text-align:center; max-width:400px;">
    <h2 style="margin-bottom:20px;">Time Is Up!</h2>
    <p style="margin-bottom:30px;">You have reached the end of the allotted time.</p>
    <button onclick="location.href='ReadingTest1/ReadingTest1Results.html'" style="padding:10px 20px; font-size:16px; background-color:#1e90ff; color:white; border:none; border-radius:6px; cursor:pointer;">Continue</button>
  </div>
</div>

<body>

  <div class="navbar">
    <img src="../narrow_logo.png" alt="Logo">
    <div class="header-right">
      <div class="student-info" id="studentInfoDisplay"></div>
      <div id="timer" class="timer">60:00</div>
    </div>
  </div>

  <div class="section-navigation">
    <a href="../ReadingTest1Section1.html" class="active" onclick="return preventSamePageNav('ReadingTest1Section1.html')">Section 1</a>
    <a href="../ReadingTest1Section2.html" onclick="return preventSamePageNav('ReadingTest1Section2.html')">Section 2</a>
    <a href="../ReadingTest1Section3.html" onclick="return preventSamePageNav('ReadingTest1Section3.html')">Section 3</a>
  </div>

  <div class="main-container">
    <div class="left-panel" id="readingText">
      <h3>Domestic robots</h3>

      <p><em>Machines that look after your home are getting cleverer, but they still need care and attention if they are to perform as intended.</em></p>

      <p>
        Floor-cleaning machines capable of responding to their environment were among the first commercially available domestic products worthy of being called robots. The best known is the Roomba, made by iRobot, an American company which has sold more than three million of the disc-shaped, frisbee-sized vacuuming robots. The latest model, the fifth version of the Roomba, has more sensors and cleverer software than its predecessors. Press the ‘Clean’ button and the robot glides out of its docking station and sets off across the floor.
      </p>

      <p>
        Domestic robots are supposed to free up time so that you can do other things, but watching how the Roomba deals with obstacles is strangely compelling. It is capable of sensing its surroundings, and does not simply try to adhere to a pre-planned route, so it is not upset if furniture is moved, or if it is picked up and taken to clean another room. Its infra-red sensors enable it to slow down before reaching an obstacle – such as a dozy cat – changing direction and setting off again.
      </p>

      <p>
        It steadily works its way around the room, figuring out how to get out from under the television stand or untangle itself from a stray Game Boy recharging lead. Watch it for long enough, and you can sometimes predict its next move. The machine has a ‘dirt sensor’ and flashes a blue light when it finds things to clean up. Only when it detects no more dirt does it stop going over the same area and, eventually, conclude that the whole room is clean. It then trundles back to dock at its recharging station.
      </p>

      <p>
        So the first observation of life with a domestic robot is that you will keep watching it before you trust it completely. Perhaps that is not surprising: after all, when automatic washing machines first appeared, people used to draw up a chair and sit and watch them complete their wash, rinse and spin cycles. Now they just load them, switch them on and leave them to it.
      </p>

      <p>
        The second observation is that, despite their current level of intelligence, certain allowances must be made to get the best out of a domestic robot. The Roomba can be set up to clean at particular times, and to clean more than one room (small infra-red ‘lighthouses’ can be positioned in doorways, creating an invisible barrier between one room and the next that is only removed when the first room has been cleaned). A ‘drop-off’ sensor underneath the robot prevents it from falling down stairs. All very clever, but what the Roomba will not do is pick up toys, shoes and other items left lying around. Rooms cared for by robots must be kept tidy. To start with, children will happily put things away in order to watch the robot set off, but unfortunately the novelty soon wears off.
      </p>

      <p>
        Similar allowances must be made for other domestic robots. Sweden’s Husqvarna recently launched a new version of its Automower lawn mowing robot. Before it can be used, a wire must be placed around the perimeter of the lawn to define the part to be cut. If toys and other obstacles are not cleared from the lawn before it starts work, the robot will steer around them, leaving uncut areas. However, the latest version can top up its batteries with solar power, or send its owner a text message if it gets into trouble trying to climb a mole-hill.
      </p>

      <p>
        But there is still only a limited range of domestic robots. Machines that mop the floor, clean a swimming pool and clear muck from guttering are made by iRobot. Several surveillance robots are also on offer. The Rovio, made by WowWee of Hong Kong, is a wi-fi-enabled webcam, mounted on an extending arm, which rides along smoothly on a nimble set of three wheels. Its movement can be remotely operated over the Internet via a laptop or mobile phone. The idea is that Rovio can patrol the home when its owner is away, either automatically or under manual control: in the latter case, two-way communication allows the operator to see and talk via the machine. So you could, for instance, shout at the cat if it is sleeping on your best sofa.
      </p>

      <p>
        Some machines are called robots even though they cannot move around. There is an ironing robot, for instance, that resembles an inflatable dummy: put a damp shirt on it, and it puffs up to remove the creases. Similarly, there are elaborate trouser presses that aspire to be robots. But do these devices really count as robots? If so, then surely dishwashers and washing machines do, too.
      </p>

      <p>
        Yet whatever shape or size robots come in, many will be adored. Another important observation from living with a robot is that it tends to become part of the family. ‘People give them names, and if they have to be sent back for repair, they carefully add a mark to them to ensure they get the same machine back,’ says Nancy Dussault Smith of iRobot.
      </p>
    </div>
    <div class="right-panel" id="questionsArea">
      <div class="question-block">
        <h2>Questions 1–6</h2>
        <p><strong>Do the following statements agree with the information given in Reading Passage 1?</strong></p>
        <p><em>Write</em> <strong>TRUE</strong>, <strong>FALSE</strong>, or <strong>NOT GIVEN</strong></p>
        <ol style="line-height: 2.5em;">
          <li><select id="Reading1_Q1" style="width:100%;"><option value="">-- Select --</option><option>TRUE</option><option>FALSE</option><option>NOT GIVEN</option></select></li>
          <li><select id="Reading1_Q2" style="width:100%;"><option value="">-- Select --</option><option>TRUE</option><option>FALSE</option><option>NOT GIVEN</option></select></li>
          <li><select id="Reading1_Q3" style="width:100%;"><option value="">-- Select --</option><option>TRUE</option><option>FALSE</option><option>NOT GIVEN</option></select></li>
          <li><select id="Reading1_Q4" style="width:100%;"><option value="">-- Select --</option><option>TRUE</option><option>FALSE</option><option>NOT GIVEN</option></select></li>
          <li><select id="Reading1_Q5" style="width:100%;"><option value="">-- Select --</option><option>TRUE</option><option>FALSE</option><option>NOT GIVEN</option></select></li>
          <li><select id="Reading1_Q6" style="width:100%;"><option value="">-- Select --</option><option>TRUE</option><option>FALSE</option><option>NOT GIVEN</option></select></li>
        </ol>
      </div>

      <div class="question-block">
        <h2>Questions 7–10</h2>
        <p><strong>Answer the questions below.</strong></p>
        <p><em>Use NO MORE THAN THREE WORDS from the passage for each answer.</em></p>
        <ol start="7" style="line-height: 2.5em;">
          <li><label for="Reading1_Q7">What is used to mark out the mowing area for the Automower?</label><br><input type="text" id="Reading1_Q7" style="width:100%;"></li>
          <li><label for="Reading1_Q8">What form of renewable energy can some Automowers use?</label><br><input type="text" id="Reading1_Q8" style="width:100%;"></li>
          <li><label for="Reading1_Q9">What does the ironing robot look like?</label><br><input type="text" id="Reading1_Q9" style="width:100%;"></li>
          <li><label for="Reading1_Q10">What do people often put on a robot when it is going to be repaired?</label><br><input type="text" id="Reading1_Q10" style="width:100%;"></li>
        </ol>
      </div>

      <div class="question-block">
        <h2>Questions 11–13</h2>
        <p><strong>Label the diagram below.</strong></p>
        <p><em>Choose NO MORE THAN THREE WORDS from the passage for each answer.</em></p>

        <img src="rovio_diagram.png" alt="Diagram of Rovio robot" style="max-width:100%; margin:20px 0;">

        <ol start="11" style="line-height: 2.5em;">
          <li><input type="text" id="Reading1_Q11" style="width:200px; margin-right:10px;"> holding webcam</li>
          <li>Wheel design allows easy <input type="text" id="Reading1_Q12" style="width:200px; margin-left:10px;"></li>
        </ol>

        <img src="rovio_controls.png" alt="Rovio control devices diagram" style="max-width:100%; margin:20px 0;">

        <ol start="13" style="line-height: 2.5em;">
          <li>Manual controls give homeowner <input type="text" id="Reading1_Q13" style="width:200px; margin-left:10px;"> with robot</li>
        </ol>
      </div>
    </div>
  </div> <!-- closes .main-container -->

  <script>
    document.addEventListener('contextmenu', function (e) {
    const selection = window.getSelection();
    const selectedText = selection.toString();

    if (selectedText.trim() !== "") {
        e.preventDefault();  // Prevent right-click menu

        const range = selection.getRangeAt(0);
        const span = document.createElement('span');
        span.className = 'highlighted';
        span.textContent = selectedText;

        range.deleteContents();
        range.insertNode(span);

        selection.removeAllRanges();
    }
    });

    const timerEl = document.getElementById("timer");
    const startTimeKey = "ReadingTest_StartTime";
    let tabAwayStart = null;

    function displayStudentInfo() {
      const name = localStorage.getItem("Student_Name") || "Name";
      const surname = localStorage.getItem("Student_Surname") || "Surname";
      const id = localStorage.getItem("Student_ID") || "ID";
      document.getElementById("studentInfoDisplay").textContent =
        `Name: ${name}   Surname: ${surname}   ID: ${id}`;
    }

    function preventSamePageNav(target) {
      if (window.location.pathname.endsWith(target)) return false;
      localStorage.setItem('internalNav', 'true');
      return true;
    }

    document.addEventListener("visibilitychange", () => {
      const internalNav = localStorage.getItem("internalNav") === "true";
      if (document.hidden && !internalNav) {
        alert("You've left the test window. This will be recorded.");
        tabAwayStart = Date.now();
      } else if (tabAwayStart !== null) {
        tabAwayStart = null;
        localStorage.removeItem("internalNav");
      }
    });

    function updateTimer() {
  const now = Date.now();
  const start = parseInt(localStorage.getItem(startTimeKey));
  const elapsed = now - start;
  const timeLeft = Math.max(0, Math.floor((60 * 60 * 1000 - elapsed) / 1000));
  const mins = Math.floor(timeLeft / 60);
  const secs = timeLeft % 60;
  timerEl.textContent = `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
  timerEl.className = "timer";
  if (timeLeft <= 600) timerEl.classList.add("danger");

  if (timeLeft === 0) {
    document.getElementById("timeoutModal").style.display = "flex";
  } else {
    setTimeout(updateTimer, 1000);
  }
  
}

    window.addEventListener("load", () => {
      displayStudentInfo();
      if (!localStorage.getItem(startTimeKey)) {
        localStorage.setItem(startTimeKey, Date.now());
      }
      updateTimer();

      const ids = Array.from({ length: 13 }, (_, i) => `Reading1_Q${i + 1}`);
      ids.forEach(id => {
        const el = document.getElementById(id);
        if (el) {
          el.value = localStorage.getItem(id) || "";
          const eventType = el.tagName === "SELECT" ? "change" : "input";
          el.addEventListener(eventType, () => localStorage.setItem(id, el.value));
        }
      });
    });
  </script>

</body>
</html>